//格式化时间
function formatTime(param) {
  let y = param.getFullYear();
  let m = param.getMonth() + 1;
  let d = param.getDate();
  m = m < 10 ? ("0" + m) : m;
  d = d < 10 ? ("0" + d) : d;
  return y + "/" + m + "/" + d;
}
 
/**
* 以当前时间为基础，便捷获取时间（最近2天，最近1周，最近2周，最近1月，最近2月，最近半年，最近一年，本周，本月，本年）
* @param { string } code
* @returns { Object }
*/
export function getDate(code) {
  const date = new Date();
  let endTime = formatTime(date);
  let date1 = Date.parse(date);
  let start = '';
  let end = '';
  let oneDay = 1000 * 3600 * 24;
 
  switch (code) {
    //今天
    case 'today':
      start = new Date();
      end = start;
      break;
    //最近1天
    case 'lastOneDay':
      start = date1 - oneDay * 1;
      end = start;
      break;
    //最近2天
    case 'lastTwoDay':
      start = date1 - oneDay * 2;
      end = start;
      break;
    //最近1周
    case 'lastOneWeek':
      start = date1 - oneDay * 7;
      end = date1 - oneDay * 1;
      break;
    //最近1月
    case 'lastOneMonth':
      start = new Date();
      start.setMonth(start.getMonth() - 1);
      end = date1 - oneDay * 1;
      break;
    //最近3月
    case 'lastThreeMonth':
      start = new Date();
      start.setMonth(start.getMonth() - 3)
      end = date1 - oneDay * 1;
      break;
    //最近半年
    case 'lastHalfYear':
      start = date1 - oneDay * 183;
      end = date1 - oneDay * 1;
      break;
    //前年
    case 'lastTwoYear':
      start = date.getFullYear() - 2 + '/' + '01' + '/' + '01';
      end = date.getFullYear() - 2 + '/' + '12' + '/' + '31';
      break;
    //去年
    case 'lastOneYear':
      start = date.getFullYear() - 1 + '/' + '01' + '/' + '01';
      end = date.getFullYear() - 1 + '/' + '12' + '/' + '31';
      break;
    //本年
    case 'thisYear':
      start = date.getFullYear() + '/' + '01' + '/' + '01';
      end = date.getFullYear() + '/' + '12' + '/' + '31';
      break;
  }
 
  return {
    startTime: formatTime(new Date(start)),
    endTime: end ? formatTime(new Date(end)) : endTime,
  }
}
