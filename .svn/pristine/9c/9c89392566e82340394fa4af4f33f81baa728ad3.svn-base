<template>
  <div class="org-staff-report-panel">
    <div class="header">
      <a-tabs v-model="district">
        <a-tab-pane v-for="item in districtList" :key="item.value" :tab="item.text"></a-tab-pane>
      </a-tabs>
    </div>
    <div class="body">
      <a-tabs v-model="active" type="card" > 
        <a-tab-pane v-for="item in types" :key="item.id" :tab="item.title">
          <component :is="item.id" :district="district"/>
        </a-tab-pane>
      </a-tabs>
    </div>
  </div>
</template>
<script>
import { Tabs } from "ant-design-vue";
import OrgReport from './components/OrgReport'
import StaffReport from './components/StaffReport'
import PostReport from './components/PostReport'
import RetireReport from './components/RetireReport'
import TempStaffReport from './components/TempStaffReport'

/**
 * 单位编制相关统计
 */
export default {
  components: {
    ATabs: Tabs,
    ATabPane: Tabs.TabPane,
    OrgReport, 
    StaffReport,
    PostReport,
    RetireReport,
    TempStaffReport,
  },
  data(){
    return {
      types: [
        {id: 'orgReport', title: '机构超限额'},
        {id: 'staffReport', title: '编制超编'},
        {id: 'postReport', title: '职数超职'},
        {id: 'retireReport', title: '退休预报'},
        {id: 'tempStaffReport', title: '周转编制使用'},
        {id: 'a', title: '机构编制问题'},
        {id: 'v', title: '数据质量'}
      ],
      district: undefined,
      active: 'orgReport',
    }
  },
  computed: {
    districtList(){
      let list = this.$store.getters.dict('usermanage.org.district');
      if(!this.district && list && list.length){
        this.district = list[0].value;
      }
      return list
    },
  },
}
</script>
<style lang="less" scoped>
.org-staff-report-panel{
  width: 1440px;
  margin: @layout-space-base auto;
  .ant-tabs{
    padding: 10px;//显示 box-shadow
  }
  & > .header {
    /deep/ .ant-tabs-bar{
      margin: 0;
      border-bottom-color: transparent;
      border-radius: 5px;
      text-align: center;
      background-color: white;
      box-shadow: 0px 0px 10px -2px #ddd;
    }
  }

  & > .body {
    flex: 1 1 auto;
    overflow-y: auto;
    /deep/ .ant-tabs-card{
      .ant-tabs-bar {
        border-color: transparent;
        margin: 0;
        text-align: center;
      }
      .ant-tabs-nav-container{
        height: 45px;
      }
      .ant-tabs-nav-scroll{
        padding-top: 5px;
      }
      .ant-tabs-bar .ant-tabs-tab {
        width: 180px;
        border-color: transparent;
        background: transparent;
        border-radius: 5px 5px 0 0;
      }
      .ant-tabs-bar .ant-tabs-tab-active {
        border-color: #fff;
        background: #fff;
        box-shadow: 0px 0px 10px -2px #ddd;
      }
      .ant-tabs-content > .ant-tabs-tabpane {
        background: #fff;
        padding: 30px;
        border-radius: 5px;
        box-shadow: 0px 0px 10px -2px #ddd;
      }
    }
  }
}
</style>