<template>
  <div class="layout">
    <div class="left">
      <panel-cmpt title="消息中心">
        <template v-slot:operate>
          <span @click="handle= !handle">
            更多
            <a-icon type="right" />
          </span>
        </template>
        <template v-slot:content>
          <new-msg v-model="handle"></new-msg>
        </template>
      </panel-cmpt>
      <panel-cmpt title="工作图表">
        <template v-slot:content>
          <work-table></work-table>
        </template>
      </panel-cmpt>
    </div>
    <div class="right">
      <panel-cmpt title="常用业务">
        <template v-slot:operate>
          <span @click="handle = true">
            编辑
            <a-icon type="edit" />
          </span>
        </template>
        <template v-slot:content>
          <StarMenu v-model="handle"></StarMenu>
        </template>
      </panel-cmpt>
      <panel-cmpt title="事项办理">
        <template v-slot:content>
          <ServiceDeal></ServiceDeal>
        </template>
      </panel-cmpt>
    </div>
  </div>
</template>

<script>
import { getLayout } from "@/framework/api/menu";
import PanelCmpt from "./components/PanelCmpt";
import NewMsg from "@/hall/widgets/NewMsg";
import ServiceDeal from "@/hall/widgets/ServiceDeal";
import WorkTable from "@/hall/widgets/WorkTable";
import StarMenu from "@/hall/widgets/StarMenu";
import { Icon } from "ant-design-vue";
export default {
  components: {
    AIcon: Icon,
    PanelCmpt,
    NewMsg,
    ServiceDeal,
    WorkTable,
    StarMenu
  },
  data() {
    return {
      handle: false
    };
  },
  created() {
      getLayout().then().catch()
  }
};
</script>
<style lang='less' scoped>
.layout {
  width: 100%;
  height: 100%;
  padding: @content-padding-v @content-padding-h;
  display: flex;
  .left {
    height: 100%;
    flex: 1;
    min-width: 0px;
  }
  .right {
    flex: 1;
    min-width: 0px;
    margin-left: @content-padding-h;
  }
}
</style>