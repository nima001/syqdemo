import request from '@/framework/utils/request'
import {v4 as uuidv4} from "uuid";
import {setCookie,getCookie} from '@/framework/utils/auth'

// 获取RSA加密公钥
export function getPublicKey () {
    return request({
        url: '/base/base/getPublickey',
        method: 'post'
    })
}

/**
 *  获取验证码
 *  verifyModel
 *    1:登录相关,2:密码相关,3:用户注册,4:用户认证等级提升,5:账户激活,6:账户注销,99:其他
 */
export function getCode(verifyModel){
    let uuid = getCookie('uuid');
    if(!uuid){
        uuid = uuidv4().split('-').join('');
        setCookie('uuid',uuid)
    }
    return `http://192.168.1.87:8080/base/base/verifyimg/${verifyModel}/${uuid}?`;
}