<template>
  <div class="wrap">
    <div class="left">
      <span class="title">机构编制问题数</span>
      <div class="num">
        <lcd-font :length="5" :realStyle="realStyle" :realNumber="questionNum.unhandle || 0"></lcd-font>
      </div>
    </div>
    <div class="right">
      <ul>
        <li>
          <span class="text">暂缓问题数</span>
          <span class="num">{{questionNum.temp || 0}}</span>
        </li>
        <li>
          <span class="text">黑名单机构</span>
          <span class="num">{{questionNum.black || 0}}</span>
        </li>
      </ul>
    </div>
  </div>
</template>

<script>
import { mixins } from "../components/minxin";
import { question } from "@/person-shaoxing/api/orgStaffReport";
import { showError } from "@/framework/utils/index";
import LcdFont from "../components/LcdFont";
export default {
  data() {
    return {
      realStyle: {
        color: "#fb2626"
      },
      questionNum: {}
    };
  },
  components: {
    LcdFont
  },
  mixins: [mixins],
  watch: {
    dictId(v) {
      this.getQuestion(v);
    }
  },
  mounted() {
    this.getQuestion(this.dictId);
  },
  methods: {
    getQuestion(dictId) {
      question(dictId)
        .then(res => {
          this.questionNum = res.result;
        })
        .catch(err => {
          showError(err);
        });
    }
  }
};
</script>
<style lang='less' scoped>
.wrap {
  width: 100%;
  height: 100px;
  background: url("../img/question.png") repeat;
  border-radius: 4px;
  display: flex;
  justify-content: space-between;
  padding: 0px 24px;
  margin-top: 12px;
  .left {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    .title {
      height: 21px;
      font-size: 16px;
      font-family: Microsoft YaHei;
      font-weight: 400;
      line-height: 21px;
      color: #ffffff;
    }
    .num {
      position: relative;
      height: 58px;
      display: flex;
      align-items: center;
    }
  }
  .right {
    display: flex;
    align-items: center;
    ul {
      margin: 0px;
      li {
        display: flex;
        &:last-child {
          margin-top: 16px;
        }
        .text {
          height: 22px;
          font-size: 16px;
          font-family: Microsoft YaHei;
          font-weight: 400;
          line-height: 22px;
          color: #ffffff;
          opacity: 0.6;
        }
        .num {
          margin-left: 30px;
          height: 22px;
          font-size: 16px;
          font-family: Arial;
          font-weight: 400;
          line-height: 22px;
          color: #ffffff;
          opacity: 0.6;
        }
      }
    }
  }
}
</style>